# Serial-dashboard-arco-design

## 🚀 功能优化与 UI 重构 (UI/UX Refactoring)

### 设备列表 (Port List)
- **视图切换**：实现了 **列表(List)** 与 **网格(Grid)** 两种视图模式，网格模式下支持状态颜色指示。
- **布局锁定**：将列表容器高度锁定为 `468px`，并去除了多余的滚动条（`no-scrollbar`），彻底解决了切换视图时的页面抖动问题。
- **操作优化**：在卡片和列表中均集成了“打开/关闭”快捷按钮。

### 终端日志 (Terminal/Logs)
- **视觉升级**：重构了日志行的 Flexbox 布局，实现了标签区（Tag）与内容区（Content）的严格垂直对齐。
- **标签规范化**：统一了日志标签格式为 `[COMx-Type]`（如 `[COM6-RX]`, `[COM6-TX]`, `[COM6-Auto]`），并为不同类型分配了专属颜色（RX青色/TX蓝色/System绿色/Auto黄色）。
- **图标微调**：将 TX/RX 图标统一为箭头 `➜`，系统和自动发送统一为井号 `#`，视觉更整洁。
- **抗挤压设计**：修复了长标签（如 `[COM10-TX]`）导致布局错位的问题，强制标签区不换行、不压缩。
- **极简操作**：将“清空日志”按钮简化为单一图标，与整体风格保持一致。

## 🐛 核心逻辑修复 (Bug Fixes & Core Logic)

### WebSocket 稳定性
- **防重连机制**：引入 `isUnmounted` 标志位，彻底修复了 React 严格模式下 WebSocket 重复连接、断开后重连导致的“幽灵连接”和日志刷屏问题。
- **去重逻辑**：在前端实现了状态日志（Status）的去重显示，避免后台重复上报导致刷屏。

### 交互体验优化
- **静默刷新**：改造 `fetchPorts` 方法支持 `silent` 模式，消除了自动刷新时烦人的“刷新成功”弹窗，仅在用户手动点击时提示。
- **设置防抖**：修复了“自动发送”配置页面的无限保存循环 Bug，现在仅在配置真正变更时触发保存提示。
- **状态同步**：修复了端口关闭后状态未及时同步的问题，增加了后端监听器的强制清理逻辑。
